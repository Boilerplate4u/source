--- a/drivers/net/phy/at803x.c
+++ b/drivers/net/phy/at803x.c
@@ -377,15 +384,23 @@ static void at803x_link_change_notify(st
 	 * cannot recover from by software.
 	 */
 	if (phydev->state == PHY_NOLINK) {
-		if (priv->gpiod_reset && !priv->phy_reset) {
+		if ((priv->gpiod_reset || pdata->has_reset_gpio) &&
+		    !priv->phy_reset) {
 			struct at803x_context context;
 
 			at803x_context_save(phydev, &context);
 
-			gpiod_set_value(priv->gpiod_reset, 1);
-			msleep(1);
-			gpiod_set_value(priv->gpiod_reset, 0);
-			msleep(1);
+			if (pdata->has_reset_gpio) {
+				gpio_set_value_cansleep(pdata->reset_gpio, 0);
+				msleep(1);
+				gpio_set_value_cansleep(pdata->reset_gpio, 1);
+				msleep(1);
+			} else {
+				gpiod_set_value(priv->gpiod_reset, 1);
+				msleep(1);
+				gpiod_set_value(priv->gpiod_reset, 0);
+				msleep(1);
+			}
 
 			at803x_context_restore(phydev, &context);
 
